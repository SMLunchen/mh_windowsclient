<Window x:Class="MeshhessenClient.TileDownloaderWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="OSM Tiles herunterladen"
        Width="420"
        Height="500"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner">
    <StackPanel Margin="20">
        <TextBlock Text="Bounding Box (WGS84)" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Grid.Row="0" Grid.Column="0" Text="Nord (max Lat):" VerticalAlignment="Center" Margin="0,4"/>
            <TextBox Grid.Row="0" Grid.Column="1" x:Name="NorthBox" Text="51.7" Margin="0,4"/>

            <TextBlock Grid.Row="1" Grid.Column="0" Text="Süd (min Lat):" VerticalAlignment="Center" Margin="0,4"/>
            <TextBox Grid.Row="1" Grid.Column="1" x:Name="SouthBox" Text="49.4" Margin="0,4"/>

            <TextBlock Grid.Row="2" Grid.Column="0" Text="Ost (max Lon):" VerticalAlignment="Center" Margin="0,4"/>
            <TextBox Grid.Row="2" Grid.Column="1" x:Name="EastBox" Text="10.3" Margin="0,4"/>

            <TextBlock Grid.Row="3" Grid.Column="0" Text="West (min Lon):" VerticalAlignment="Center" Margin="0,4"/>
            <TextBox Grid.Row="3" Grid.Column="1" x:Name="WestBox" Text="7.8" Margin="0,4"/>
        </Grid>

        <TextBlock Text="Zoom-Stufen" FontWeight="Bold" FontSize="14" Margin="0,14,0,6"/>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="30"/>
                <ColumnDefinition Width="80"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Text="Min / Max Zoom:" VerticalAlignment="Center"/>
            <TextBox Grid.Column="1" x:Name="MinZoomBox" Text="1" TextChanged="ZoomChanged"/>
            <TextBlock Grid.Column="2" Text=" – " VerticalAlignment="Center" HorizontalAlignment="Center"/>
            <TextBox Grid.Column="3" x:Name="MaxZoomBox" Text="14" TextChanged="ZoomChanged"/>
        </Grid>

        <TextBlock x:Name="EstimateText" Text="Geschätzte Tiles: –" Margin="0,10,0,0" FontStyle="Italic" Foreground="Gray"/>
        <TextBlock Text="Hinweis: Bitte respektiere die OSM-Nutzungsbedingungen (max. ~2 req/s)."
                   TextWrapping="Wrap" FontSize="11" Foreground="OrangeRed" Margin="0,4,0,10"/>

        <ProgressBar x:Name="DownloadProgress" Height="20" Minimum="0" Maximum="100" Value="0" Margin="0,0,0,4"/>
        <TextBlock x:Name="StatusText" Text="" FontSize="11"/>

        <StackPanel Orientation="Horizontal" Margin="0,14,0,0" HorizontalAlignment="Right">
            <Button x:Name="StartButton" Content="Download starten" Margin="0,0,10,0" Click="Start_Click"/>
            <Button x:Name="CancelButton" Content="Abbrechen" IsEnabled="False" Click="Cancel_Click"/>
        </StackPanel>
    </StackPanel>
</Window>
