<Window x:Class="MeshhessenClient.ChannelBrowserWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="Kanäle aus Liste"
        Width="750"
        Height="500"
        MinWidth="550"
        MinHeight="350"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Filter -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
            <TextBlock Text="Bundesland:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <ComboBox x:Name="BundeslandFilterComboBox" Width="180" Margin="0,0,15,0"
                      SelectionChanged="BundeslandFilter_Changed"/>
            <TextBlock Text="Suche:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <TextBox x:Name="SearchTextBox" Width="200" TextChanged="SearchText_Changed"/>
        </StackPanel>

        <!-- Channel List -->
        <ListView x:Name="ChannelListView" Grid.Row="1">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Bundesland" Width="100"
                                    DisplayMemberBinding="{Binding Bundesland}"/>
                    <GridViewColumn Header="Name" Width="130"
                                    DisplayMemberBinding="{Binding Name}"/>
                    <GridViewColumn Header="PSK" Width="200"
                                    DisplayMemberBinding="{Binding Psk}"/>
                    <GridViewColumn Header="MQTT" Width="60"
                                    DisplayMemberBinding="{Binding MqttEnabled}"/>
                    <GridViewColumn Header="Bemerkung" Width="180">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Bemerkung}" TextWrapping="Wrap"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>

        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <TextBlock x:Name="StatusText" VerticalAlignment="Center" Margin="0,0,15,0"
                       FontStyle="Italic" Opacity="0.7"/>
            <Button Content="Hinzufügen" Margin="0,0,10,0" Click="AddSelected_Click"/>
            <Button Content="Schließen" IsCancel="True" Click="Close_Click"/>
        </StackPanel>
    </Grid>
</Window>
